if(!Array.indexOf){Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}}(function(a,b){var c=b(a);if(typeof define==="function"&&define.amd){define("hotkeys",function(){return c})}else if(typeof exports==="object"){module.exports=c}else{var d=a.hotkeys;c.noConflict=function(){var b=a.hotkeys;a.hotkeys=d;return b};a.hotkeys=c}})(this,function(a,b){var c,d={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},e="all",f={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},g=[],h={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"},j={16:false,18:false,17:false,91:false},l=function(a){return d[a]||a.toUpperCase().charCodeAt(0)},m={};for(k=1;k<20;k++){d["f"+k]=111+k}function n(a){e=a||"all"}function o(){return e||"all"}function p(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent("on"+b,function(){c(window.event)})}}function q(a){if(typeof a==="string"){a=l(a)}return g.indexOf(a)!==-1}function r(a){return g.slice(0)}function s(a){var b=a.keyCode,c,d,e;if(g.indexOf(b)===-1)g.push(b);if(b===93||b===224)b=91;if(b in j){j[b]=true;for(var k in f)if(f[k]===b)y[k]=true;return}for(var l in j)j[l]=a[h[l]];if(!y.filter.call(this,a))return;if(!(b in m))return;d=o();for(i=0;i<m[b].length;i++){e=m[b][i];if(e.scope===d||e.scope==="all"){c=e.mods.length>0;for(var n in j){if(!j[n]&&e.mods.indexOf(+n)>-1||j[n]&&e.mods.indexOf(+n)===-1)c=false}if(e.mods.length===0&&!j[16]&&!j[18]&&!j[17]&&!j[91]||c){if(e.method(a,e)===false){if(a.preventDefault)a.preventDefault();else a.returnValue=false;if(a.stopPropagation)a.stopPropagation();if(a.cancelBubble)a.cancelBubble=true}}}}}function t(a,c){var d=x(a),e,f=[],g;for(var h=0;h<d.length;h++){e=d[h].split("+");if(e.length>1)f=w(e);a=e[e.length-1];a=l(a);if(c===b)c=o();if(!m[a])return;for(var i=0;i<m[a].length;i++){g=m[a][i];if(g.scope===c&&u(g.mods,f)){m[a][i]={}}}}}function u(a,b){if(a.length!==b.length)return false;for(var c=0;c<a.length;c++){if(a[c]!==b[c])return false}return true}function v(a){var b=(a.target||a.srcElement).tagName;return!(b==="INPUT"||b==="SELECT"||b==="TEXTAREA")}function w(a){var b=a.slice(0,a.length-1);for(var c=0;c<b.length;c++)b[c]=f[b[c]];return b}function x(a){var b;a=a.replace(/\s/g,"");b=a.split(",");if(b[b.length-1]==="")b[b.length-2]+=",";return b}p(document,"keydown",function(a){s(a)});p(document,"keyup",function(a){var b=a.keyCode,c=g.indexOf(b);if(c>=0)g.splice(c,1)});function y(a,c,d){var e=x(a),f=[],g=0;if(d===b){d=c;c="all"}for(;g<e.length;g++){a=e[g].split("+");f=[];if(a.length>1){f=w(a);a=[a[a.length-1]]}a=a[0];a=l(a);if(!(a in m))m[a]=[];m[a].push({shortcut:e[g],scope:c,method:d,key:e[g],mods:f})}}c={setScope:n,getScope:o,getPressedKeyCodes:r,isPressed:q,filter:v,unbind:t};for(var z in c)y[z]=c[z];return y});